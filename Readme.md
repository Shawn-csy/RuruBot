# RuruBot - LINEBOT

[![Python Version](https://img.shields.io/badge/python-3.9%2B-blue.svg)](https://www.python.org/downloads/)
[![License: MIT](https://img.shields.io/badge/License-MIT-yellow.svg)](https://opensource.org/licenses/MIT)

RuruBot æ˜¯ä¸€å€‹åŸºæ–¼ LINE Messaging API é–‹ç™¼çš„ LineBotï¼Œä½¿ç”¨ FastAPI é€²è¡Œé–‹ç™¼ã€‚

## åŠŸèƒ½ç‰¹é»

1.  **æ°£è±¡é›·é”** ğŸŒ§ï¸
    - å³æ™‚æŸ¥çœ‹æ°£è±¡é›·é”åœ–ã€‚
2.  **æ˜Ÿåº§é‹å‹¢** â­
    - æŸ¥è©¢ 12 æ˜Ÿåº§çš„æ—¥é‹ã€é€±é‹ï¼Œä¸¦æä¾›å®Œæ•´çš„é‹å‹¢åˆ†æã€‚
3.  **æ·ºè‰å¯ºæŠ½ç±¤** ğŸ‹
    - æä¾›é›»å­æ·ºè‰å¯ºè§€éŸ³ç±¤ï¼Œä¸¦é™„æœ‰ AI è§£ç±¤æœå‹™ã€‚
4.  **å…­åç”²å­ç±¤** ğŸ¯
    - æä¾›å‚³çµ±å…­åç”²å­ç±¤è©©ï¼Œä¸¦é™„æœ‰ AI æ™ºèƒ½è§£ç±¤ã€‚
5.  **åœ‹å¸«é‹å‹¢** ğŸ“»
    - æä¾›æ¯é€±æ˜Ÿåº§é‹å‹¢é€Ÿå ±ï¼Œç”± AI åˆ†é¡æ•´ç†ã€‚
6.  **æ­Œæ›²æ¨è–¦** ğŸ¶
    - å¾æŒ‡å®šçš„ Spotify æ’­æ”¾æ¸…å–®ä¸­éš¨æ©Ÿæ¨è–¦æ­Œæ›²ã€‚
7.  **å¡”ç¾…ç‰Œ** ğŸ”®
    - æä¾›å¤šç¨®å¡”ç¾…ç‰Œé™£ï¼Œå¦‚æ™‚é–“ä¹‹æµã€å¡çˆ¾ç‰¹åå­—ç­‰ï¼Œä¸¦å¯é‡å°å•é¡Œé€²è¡Œå åœã€‚

## å¦‚ä½•ä½¿ç”¨

å¤§éƒ¨åˆ†åŠŸèƒ½æ”¯æ´é€éé—œéµå­—è§¸ç™¼ï¼š

- **å¤©æ°£**ï¼š`é›·é”`ã€`radar` //ç¶­ä¿®ä¸­
- **æ˜Ÿåº§**ï¼š`æ˜Ÿåº§`ã€`ç‰¡ç¾Šåº§`ã€`é€±é‹å¤©ç§¤`
- **æŠ½ç±¤**ï¼š`æŠ½ç±¤`ã€`æ·ºè‰`
- **éŸ³æ¨‚**ï¼š`--ping`
- **å¡”ç¾…**ï¼š`æ¯æ—¥å¡”ç¾…`ã€`æœ¬æ—¥å¡”ç¾…`ã€`-å¡”ç¾… [å•é¡Œ]`
- **å¹«åŠ©**ï¼š`--help`ã€`--èªªæ˜`

## æŠ€è¡“ç‰¹é»

- ä½¿ç”¨ FastAPI å»ºæ§‹ Web æœå‹™
- æ•´åˆ LINE Messaging API
- æ”¯æ´ Flex Message å®¢è£½åŒ–è¨Šæ¯
- AI æ™ºèƒ½åˆ†æï¼ˆä½¿ç”¨ Google Geminiï¼‰
- æ¨¡çµ„åŒ–æŒ‡ä»¤è™•ç†æ¶æ§‹ï¼Œæ˜“æ–¼æ“´å±•å’Œç¶­è­·
- Docker å®¹å™¨åŒ–éƒ¨ç½²

## é–‹ç™¼ç’°å¢ƒè¨­ç½®

1.  å®‰è£ä¾è³´ï¼š

    ```bash
    pip install -r requirements.txt
    ```

2.  è¨­ç½®ç’°å¢ƒè®Šæ•¸ (å»ºç«‹ä¸€å€‹ `.env` æª”æ¡ˆ):
    ```bash
    # .env æª”æ¡ˆ
    LINE_CHANNEL_ACCESS_TOKEN=your_access_token
    LINE_CHANNEL_SECRET=your_channel_secret
    GEMINI_API_KEY=your_gemini_api_key
    ```

## å°ˆæ¡ˆçµæ§‹

```
RuruBot/
â”œâ”€â”€ Dockerfile
â”œâ”€â”€ main.py
â”œâ”€â”€ requirements.txt
â”œâ”€â”€ Readme.md
â”œâ”€â”€ .env # ç’°å¢ƒè®Šæ•¸
â”œâ”€â”€ docs/
â”‚   â””â”€â”€ changelog.md
â”œâ”€â”€ layout/
â”‚   â””â”€â”€ ... # Flex Message ç‰ˆé¢é…ç½®
â”œâ”€â”€ services/
â”‚   â”œâ”€â”€ commands/       # æ¨¡çµ„åŒ–æŒ‡ä»¤è™•ç†
â”‚   â”œâ”€â”€ features/       # ä¸»è¦åŠŸèƒ½æ¨¡çµ„
â”‚   â””â”€â”€ linebot_reply/  # LINE Bot å›è¦†è™•ç† (åƒ…åŒ…å«å›è¦†è™•ç†ç›¸é—œ)
â”œâ”€â”€ statics/
â”‚   â””â”€â”€ ... # éœæ…‹è³‡æº
â””â”€â”€ tests/
    â””â”€â”€ ... # æ¸¬è©¦
```

## æ¸¬è©¦

åŸ·è¡Œæ‰€æœ‰æ¸¬è©¦ï¼š

```bash
python -m tests.run_tests
```

åŸ·è¡Œç‰¹å®šæ¸¬è©¦ï¼š

```bash
# åŸ·è¡ŒåŠŸèƒ½æ¸¬è©¦
pytest tests/features/

# åŸ·è¡ŒæŒ‡ä»¤æ¸¬è©¦
pytest tests/commands/
```

## éƒ¨ç½²

ä½¿ç”¨ Docker éƒ¨ç½²ï¼š

```bash
docker build -t ruru-bot .
docker run -d -p 8000:8000 --env-file .env ruru-bot
```

## æ›´æ–°æ—¥èªŒ

è©³ç´°çš„æ›´æ–°æ­·å²è«‹åƒè€ƒ [changelog.md](./docs/changelog.md)ã€‚

## æˆæ¬Š

MIT License

## ä½œè€…

Shawn Chang
